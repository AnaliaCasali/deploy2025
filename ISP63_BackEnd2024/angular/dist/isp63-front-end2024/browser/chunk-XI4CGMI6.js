import{a as z}from"./chunk-6W5TU3RE.js";import"./chunk-CB6FNCUI.js";import{b as O,c as u,d as S,e as k,h as E,k as I,l as T,r as L,w as N,x as j,y as q}from"./chunk-WZ63J2F5.js";import{a as W}from"./chunk-SJWRDQVH.js";import"./chunk-5AS2EY2S.js";import{l as F}from"./chunk-5KY6YBJG.js";import{m as M,o as y}from"./chunk-4DCJT2OD.js";import{Aa as a,Ba as p,Pa as g,Ra as s,W as b,Ya as o,Za as r,_a as h,eb as v,fb as f,mb as l,rb as w,sb as P,tb as C,vb as x}from"./chunk-X5N6KVFF.js";import{e as D}from"./chunk-EQDQRRRY.js";var A=D(W());function R(n,i){n&1&&(o(0,"small"),l(1,"La contrase\xF1a es obligatoria."),r())}function B(n,i){n&1&&(o(0,"small"),l(1,"Debe tener al menos 8 caracteres."),r())}function V(n,i){n&1&&(o(0,"small"),l(1,"Debe incluir may\xFAsculas, min\xFAsculas y n\xFAmeros."),r())}function G(n,i){if(n&1&&(o(0,"div",13),g(1,R,2,0,"small",14)(2,B,2,0,"small",14)(3,V,2,0,"small",14),r()),n&2){let t=f();a(),s("ngIf",t.newPassword==null||t.newPassword.errors==null?null:t.newPassword.errors.required),a(),s("ngIf",t.newPassword==null||t.newPassword.errors==null?null:t.newPassword.errors.minlength),a(),s("ngIf",t.newPassword==null||t.newPassword.errors==null?null:t.newPassword.errors.pattern)}}function Z(n,i){n&1&&(o(0,"small"),l(1,"La confirmaci\xF3n es obligatoria."),r())}function K(n,i){n&1&&(o(0,"small"),l(1,"Las contrase\xF1as no coinciden."),r())}function U(n,i){if(n&1&&(o(0,"div",13),g(1,Z,2,0,"small",14)(2,K,2,0,"small",14),r()),n&2){let t=f();a(),s("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.required),a(),s("ngIf",t.passwordForm.errors==null?null:t.passwordForm.errors.passwordsMismatch)}}var ne=(()=>{let i=class i{constructor(c,d,e){this.fb=c,this.userSvc=d,this.router=e,this.passwordForm=this.fb.group({newPassword:["",[u.required,u.minLength(8),u.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/)]],confirmPassword:["",u.required]},{validators:this.passwordsMatch})}get newPassword(){return this.passwordForm.get("newPassword")}get confirmPassword(){return this.passwordForm.get("confirmPassword")}passwordsMatch(c){let d=c.get("newPassword")?.value,e=c.get("confirmPassword")?.value;return d===e?null:{passwordsMismatch:!0}}changePassword(){this.passwordForm.valid&&(console.log("nueva pass"+this.passwordForm.controls.newPassword.value),this.userSvc.ChangePassword(this.passwordForm.controls.newPassword.value).subscribe(()=>{A.default.fire({icon:"success",title:"\xC9xito",text:"La contrase\xF1a se guard\xF3 correctamente.",confirmButtonText:"OK"}),this.router.navigate(["/home"])}),console.log("Contrase\xF1a cambiada exitosamente"))}};i.\u0275fac=function(d){return new(d||i)(p(N),p(z),p(F))},i.\u0275cmp=b({type:i,selectors:[["app-change-password"]],standalone:!0,features:[x],decls:18,vars:6,consts:[[1,"main-cont"],[1,"row","w-100"],[1,"col-md-6","image-cont","d-none","d-md-flex"],["src","assets/imagenes/7de62d17fdb021bae96c708fc93a08a22.jpeg","alt","Login Image",1,"imgLogin"],[1,"col-md-6","login-container"],[3,"ngSubmit","formGroup"],[1,"text-2xl","font-semibold","text-center","mb-6"],["for","newPassword",1,"block","text-gray-700","font-medium","mb-1"],["id","newPassword","type","password","formControlName","newPassword","placeholder","Nueva Contrase\xF1a","required","",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","mb-2",3,"ngModelChange","ngModel"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","confirmPassword",1,"block","text-gray-700","font-medium","mb-1"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirma tu nueva contrase\xF1a","required","",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","mb-4",3,"ngModelChange","ngModel"],["type","submit",1,"login-button",3,"disabled"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"]],template:function(d,e){d&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),h(3,"img",3),r(),o(4,"div",4)(5,"form",5),v("ngSubmit",function(){return e.changePassword()}),o(6,"h2",6),l(7,"Cambiar Contrase\xF1a"),r(),o(8,"label",7),l(9,"Nueva Contrase\xF1a"),r(),o(10,"input",8),C("ngModelChange",function(m){return P(e.newPassword,m)||(e.newPassword=m),m}),r(),g(11,G,4,3,"div",9),o(12,"label",10),l(13,"Confirmar Contrase\xF1a"),r(),o(14,"input",11),C("ngModelChange",function(m){return P(e.confirmPassword,m)||(e.confirmPassword=m),m}),r(),g(15,U,3,2,"div",9),o(16,"button",12),l(17," Cambiar Contrase\xF1a "),r()()()()()),d&2&&(a(5),s("formGroup",e.passwordForm),a(5),w("ngModel",e.newPassword),a(),s("ngIf",(e.newPassword==null?null:e.newPassword.invalid)&&((e.newPassword==null?null:e.newPassword.touched)||(e.newPassword==null?null:e.newPassword.dirty))),a(3),w("ngModel",e.confirmPassword),a(),s("ngIf",(e.confirmPassword==null?null:e.confirmPassword.invalid)&&((e.confirmPassword==null?null:e.confirmPassword.touched)||(e.confirmPassword==null?null:e.confirmPassword.dirty))),a(),s("disabled",e.passwordForm.invalid))},dependencies:[q,E,O,S,k,L,I,T,y,M,j],styles:[".main-cont[_ngcontent-%COMP%]{background-color:#fff;display:flex;height:100vh;width:auto;margin:0;padding:0;overflow:hidden}.image-cont[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]{justify-content:center;align-items:center;height:100%}.imgLogin[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.login-container[_ngcontent-%COMP%]{background-color:#fff;margin-top:4%;display:flex;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{padding:20px;width:100%;max-width:400px;text-align:center}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:20px}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-align:left;margin:10px 0 5px}.login-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:8px;border:1px solid #ccc;border-radius:12px;box-sizing:border-box}.login-button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#f60;border:none;border-radius:20px;color:#fff;font-size:16px;cursor:pointer}.login-button[_ngcontent-%COMP%]:hover{background-color:#e55a00}.signup-link[_ngcontent-%COMP%]{margin:15px 0}.signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f60;text-decoration:none}.signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.social-login[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.loginRedes-button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#f600;border:none;border-radius:10px;border:1px solid #0807072c;color:#000;font-size:12px;cursor:pointer;text-decoration:none}.loginRedes-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.google-login[_ngcontent-%COMP%]{background-color:#db453700}.google-login[_ngcontent-%COMP%]:hover{background-color:#c33d2f}.facebook-login[_ngcontent-%COMP%]{background-color:#4267b2}.facebook-login[_ngcontent-%COMP%]:hover{background-color:#365899}"]});let n=i;return n})();export{ne as ChangePasswordComponent};
