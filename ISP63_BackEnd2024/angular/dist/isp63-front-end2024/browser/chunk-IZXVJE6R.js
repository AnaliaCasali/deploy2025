import{a as B}from"./chunk-IBCUWFOV.js";import{a as T}from"./chunk-OFA4HTK6.js";import"./chunk-4ATTAGCL.js";import{b as O,d as E,e as V,f as N,g as W,h as I,j as F,r as L,x as k}from"./chunk-WZ63J2F5.js";import{a as q}from"./chunk-SJWRDQVH.js";import"./chunk-EITPQ4QS.js";import{j as v,l as P}from"./chunk-5KY6YBJG.js";import{o as S}from"./chunk-4DCJT2OD.js";import{Aa as u,Ba as b,Ra as _,W as w,Ya as i,Za as o,bb as M,da as l,ea as c,eb as y,mb as r,rb as g,sb as m,tb as p,vb as C}from"./chunk-X5N6KVFF.js";import{e as D}from"./chunk-EQDQRRRY.js";var x=D(q());var G=(()=>{let f=class f{constructor(n,s,t,a){this.noticiaService=n,this.imagenService=s,this.route=t,this.router=a,this.noticia={titulo:"",subtitulo:"",texto:"",descripcion:"",fecha:"",id:0,imagen:{id:6,url:"/uploads/87a1eee1-24b6-4245-a02c-7ff5d995eefb_LogoIES63.png",alt:"Logo ies63",nombre:"87a1eee1-24b6-4245-a02c-7ff5d995eefb_LogoIES63.png",descripcion:""},vigente:!0}}ngOnInit(){let n=this.route.snapshot.paramMap.get("id");n&&this.noticiaService.getNoticia(+n).subscribe(s=>{this.noticia=s})}onFileSelected(n){this.selectedFile=n.target.files[0]}saveNoticia(){this.selectedFile?this.imagenService.uploadImagen(this.selectedFile,"Logo "+this.noticia?.titulo).subscribe(n=>{this.noticia&&(this.noticia.imagen=n,console.log("La imagen se guard\xF3"),this.noticiaService.createNoticia(this.noticia).subscribe(()=>{x.default.fire({icon:"success",title:"\xC9xito",text:"La noticia se guard\xF3 correctamente.",confirmButtonText:"OK"}),this.router.navigate(["/noticias"])}))},n=>{x.default.fire({icon:"error",title:"Error",text:"Hubo un problema al subir la imagen. Int\xE9ntalo nuevamente.",confirmButtonText:"OK"}),console.error("Error al subir imagen",n)}):this.noticia&&this.noticiaService.createNoticia(this.noticia).subscribe(()=>{x.default.fire({icon:"success",title:"\xC9xito",text:"La noticia se guard\xF3 correctamente.",confirmButtonText:"OK"}),this.router.navigate(["/noticias"])})}};f.\u0275fac=function(s){return new(s||f)(b(T),b(B),b(v),b(P))},f.\u0275cmp=w({type:f,selectors:[["app-noticia"]],standalone:!0,features:[C],decls:40,vars:8,consts:[["noticiaForm","ngForm"],[1,"container","mx-auto","px-4",2,"position","relative","top","-40px"],[1,"text-2xl","font-bold","mb-6","text-center","text-blue-800"],[1,"bg-white","shadow-lg","rounded-lg","p-6","max-w-full","md:max-w-lg","mx-auto","space-y-6","overflow-hidden",3,"ngSubmit"],["for","titulo",1,"block","text-lg","font-semibold","text-gray-800"],["required","","type","text","name","titulo",1,"mt-1","w-full","border","border-gray-300","rounded-md","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2","text-gray-800",3,"ngModelChange","ngModel"],["for","subtitulo",1,"block","text-lg","font-semibold","text-gray-800"],["required","","type","text","name","subtitulo",1,"mt-1","w-full","border","border-gray-300","rounded-md","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2","text-gray-800",3,"ngModelChange","ngModel"],["for","descripcion",1,"block","text-lg","font-semibold","text-gray-800"],["required","","name","descripcion","rows","3",1,"mt-1","w-full","border","border-gray-300","rounded-md","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2","text-gray-800","resize-none",3,"ngModelChange","ngModel"],[1,"space-y-4","sm:flex","sm:space-y-0","sm:space-x-4"],[1,"sm:flex-1"],["for","fecha",1,"block","text-lg","font-semibold","text-gray-800"],["id","fecha","type","date","name","fecha","required","",1,"mt-1","w-full","border","border-gray-300","rounded-md","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2","text-gray-800",3,"ngModelChange","ngModel"],["for","logoFile",1,"block","text-lg","font-semibold","text-gray-800"],["type","file","required","","name","logoFile",1,"mt-1","w-full","border","border-gray-300","rounded-md","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2","text-gray-800",3,"change"],["for","vigente",1,"block","text-lg","font-semibold","text-gray-800"],[1,"mt-2","flex","items-center","space-x-4"],[1,"flex","items-center","text-gray-800"],["type","radio","name","vigente",1,"focus:ring","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","value"],[1,"ml-2"],["type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-bold","py-3","rounded-md","transition","duration-300"]],template:function(s,t){if(s&1){let a=M();i(0,"div",1)(1,"h2",2),r(2,"Crear Noticia"),o(),i(3,"form",3,0),y("ngSubmit",function(){return l(a),c(t.saveNoticia())}),i(5,"div")(6,"label",4),r(7,"T\xEDtulo"),o(),i(8,"input",5),p("ngModelChange",function(e){return l(a),m(t.noticia.titulo,e)||(t.noticia.titulo=e),c(e)}),o()(),i(9,"div")(10,"label",6),r(11,"Subt\xEDtulo"),o(),i(12,"input",7),p("ngModelChange",function(e){return l(a),m(t.noticia.subtitulo,e)||(t.noticia.subtitulo=e),c(e)}),o()(),i(13,"div")(14,"label",8),r(15,"Descripci\xF3n"),o(),i(16,"textarea",9),p("ngModelChange",function(e){return l(a),m(t.noticia.descripcion,e)||(t.noticia.descripcion=e),c(e)}),o()(),i(17,"div",10)(18,"div",11)(19,"label",12),r(20,"Fecha"),o(),i(21,"input",13),p("ngModelChange",function(e){return l(a),m(t.noticia.fecha,e)||(t.noticia.fecha=e),c(e)}),o()(),i(22,"div",11)(23,"label",14),r(24,"Logo (Imagen)"),o(),i(25,"input",15),y("change",function(e){return l(a),c(t.onFileSelected(e))}),o()()(),i(26,"div")(27,"label",16),r(28,"Estado"),o(),i(29,"div",17)(30,"label",18)(31,"input",19),p("ngModelChange",function(e){return l(a),m(t.noticia.vigente,e)||(t.noticia.vigente=e),c(e)}),o(),i(32,"span",20),r(33,"Vigente"),o()(),i(34,"label",18)(35,"input",19),p("ngModelChange",function(e){return l(a),m(t.noticia.vigente,e)||(t.noticia.vigente=e),c(e)}),o(),i(36,"span",20),r(37,"No Vigente"),o()()()(),i(38,"button",21),r(39," Guardar "),o()()()}s&2&&(u(8),g("ngModel",t.noticia.titulo),u(4),g("ngModel",t.noticia.subtitulo),u(4),g("ngModel",t.noticia.descripcion),u(5),g("ngModel",t.noticia.fecha),u(10),g("ngModel",t.noticia.vigente),_("value",!0),u(4),g("ngModel",t.noticia.vigente),_("value",!1))},dependencies:[k,I,O,F,E,V,L,W,N,S],styles:[".noticias-header[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;color:#333;margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInDown 1s ease-in-out}.noticia-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:600px;margin:0 auto;background:#f9f9f9;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;animation:_ngcontent-%COMP%_fadeInUp .7s ease-in-out}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-control[_ngcontent-%COMP%], .form-control-file[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-control-file[_ngcontent-%COMP%]:focus{outline:none;border-color:#4a90e2;box-shadow:0 0 5px #4a90e280}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9em;position:absolute;bottom:-20px;left:0}.submit-button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#4a90e2;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#357abd}.noticias-list[_ngcontent-%COMP%]{margin-top:30px}.noticia-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin-bottom:20px;padding:20px;animation:_ngcontent-%COMP%_fadeInUp .7s ease-in-out}.noticia-img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-top:10px;border-radius:8px}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]});let h=f;return h})();export{G as NoticiaComponent};
