import{a as k}from"./chunk-GW2W74OV.js";import{a as L}from"./chunk-NLUXFCPZ.js";import{a as F}from"./chunk-STC2FLOC.js";import"./chunk-4ATTAGCL.js";import{n as w,o as y,x as E}from"./chunk-WZ63J2F5.js";import{a as T}from"./chunk-SJWRDQVH.js";import"./chunk-EITPQ4QS.js";import{l as A,o as S}from"./chunk-5KY6YBJG.js";import{l as I,m as O,o as P}from"./chunk-4DCJT2OD.js";import{$a as b,Aa as s,Ba as h,Pa as u,Ra as d,W as x,Ya as t,Za as i,_a as v,ab as M,eb as g,mb as n,nb as m,ob as _,vb as C}from"./chunk-X5N6KVFF.js";import{e as N}from"./chunk-EQDQRRRY.js";var D=N(T());function j(r,o){if(r&1&&(t(0,"option",25),n(1),i()),r&2){let c=o.$implicit;d("value",c.id),s(),_(" ",c.carrera," ")}}function B(r,o){if(r&1&&(t(0,"option",25),n(1),i()),r&2){let c=o.$implicit;d("value",c.value),s(),m(c.label)}}function z(r,o){if(r&1&&(t(0,"option",25),n(1),i()),r&2){let c=o.$implicit;d("value",c.nombre),s(),m(c.nombre)}}function U(r,o){r&1&&(t(0,"option"),n(1,"Seleccione una Carrera y A\xF1o"),i())}function R(r,o){r&1&&(t(0,"tr")(1,"td",26),n(2,"No hay inscriptos"),i()())}function $(r,o){if(r&1&&(b(0),t(1,"tr")(2,"td"),n(3),i(),t(4,"td"),n(5),i(),t(6,"td"),n(7),i(),t(8,"td"),n(9),i(),t(10,"td"),n(11),i()(),M()),r&2){let c=o.$implicit;s(3),m(c.nombreApellido),s(2),m(c.dni),s(2),m(c.carrera),s(2),m(c.materia),s(2),m(c.turnoLlamado)}}var Z=(()=>{let o=class o{constructor(e,l,a,p){this.infoMateriasService=e,this.infoCarrerasService=l,this.infoLlamadosService=a,this.router=p,this.filteredInscripMesas=[],this.datosAlumno=[],this.materias=[],this.selectedLlamado=null,this.selectedCarrera=null,this.selectedAnio=null,this.selectedMateria=null,this.aniosDisponibles=[{value:1,label:"1\xB0 a\xF1o"},{value:2,label:"2\xB0 a\xF1o"},{value:3,label:"3\xB0 a\xF1o"},{value:4,label:"4\xB0 a\xF1o"}],this.asignaturasFiltradas=[],this.carrerasFiltradas=[],this.showFilters=!1,this.errores=[]}ngOnInit(){this.infoLlamadosService.ObtenerListaInscriptosAceptados().subscribe(e=>{this.filteredInscripMesas=e,this.datosAlumno=e,console.log(this.filteredInscripMesas)},e=>{console.error("Error al obtener la lista de inscriptos:",e)}),this.infoLlamadosService.ObtenerDatos().subscribe(e=>{this.datosAlumno=e,this.filteredInscripMesas=e.alumnos??[]}),this.infoMateriasService.obtenerDatos().subscribe(e=>{this.materias=e}),this.infoCarrerasService.ObtenerDatos().subscribe(e=>{this.carreras=e})}toggleFilters(){this.showFilters=!this.showFilters}filtrarPorLlamado(e){this.selectedLlamado=e.target.value,this.selectedCarrera,this.selectedCarrera=null,this.selectedAnio=null,this.selectedMateria=null,this.materias=[];let l=document.getElementById("selectCarrera");l.selectedIndex=0;let a=document.getElementById("selectA\xF1o");a.selectedIndex=0;let p=document.getElementById("selectAsignatura");p.selectedIndex=0,this.aplicarFiltros(),console.log(this.selectedLlamado)}filtrarPorAnio(e){this.selectedAnio=e.target.value,this.obtenerMaterias(),this.selectedMateria=null;let l=document.getElementById("selectAsignatura");l.selectedIndex=0,this.aplicarFiltros()}filtrarPorAsignatura(e){this.selectedMateria=e.target.value,this.aplicarFiltros()}filtrarPorCarrera(e){this.selectedCarrera=Number(e.target.value),this.selectedAnio=null,this.selectedMateria=null;let l=document.getElementById("selectA\xF1o");l.selectedIndex=0;let a=document.getElementById("selectAsignatura");switch(a.selectedIndex=0,this.selectedCarrera){case 1:this.aniosDisponibles=[{value:1,label:"1\xB0 a\xF1o"},{value:2,label:"2\xB0 a\xF1o"},{value:3,label:"3\xB0 a\xF1o"}];break;default:this.aniosDisponibles=[{value:1,label:"1\xB0 a\xF1o"},{value:2,label:"2\xB0 a\xF1o"},{value:3,label:"3\xB0 a\xF1o"},{value:4,label:"4\xB0 a\xF1o"}];break}this.obtenerMaterias(),this.aplicarFiltros()}obtenerMaterias(){this.selectedCarrera!==null&&this.selectedAnio!==null&&this.selectedAnio!==0?this.infoMateriasService.obtenerAsigAnioCarrera(this.selectedCarrera,this.selectedAnio).subscribe(e=>{this.materias=e.map(l=>({id:l.id,nombre:l.nombre})),console.log("Materias obtenidas:",this.materias)},e=>{console.error("Error al obtener las materias:",e)}):console.warn("Por favor selecciona una carrera y un a\xF1o v\xE1lido.")}aplicarFiltros(){this.filteredInscripMesas=[...this.datosAlumno],this.selectedLlamado&&(this.filteredInscripMesas=this.filteredInscripMesas.filter(e=>e.turnoLlamado===this.selectedLlamado)),this.selectedCarrera&&(this.filteredInscripMesas=this.filteredInscripMesas.filter(e=>e.idcarrera===this.selectedCarrera)),this.selectedAnio&&(this.filteredInscripMesas=this.filteredInscripMesas.filter(e=>e.anio===this.selectedAnio)),this.selectedMateria&&(this.filteredInscripMesas=this.filteredInscripMesas.filter(e=>e.materia===this.selectedMateria))}enviarDatos(){if(!this.selectedLlamado||!this.selectedCarrera||!this.selectedMateria)D.default.fire({icon:"warning",title:"Datos incompletos",text:"Por favor, selecciona Llamado, Carrera, A\xF1o y Asignatura para realizar la descarga.",confirmButtonText:"OK"});else{let e={inscriptos:this.filteredInscripMesas,carrera:this.selectedCarrera,materia:this.selectedMateria};this.router.navigate(["/imprimirActaMesaExamen"]),this.infoLlamadosService.updateInscriptos(e)}}};o.\u0275fac=function(l){return new(l||o)(h(k),h(F),h(L),h(A))},o.\u0275cmp=x({type:o,selectors:[["app-inscriptos-aprovados"]],standalone:!0,features:[C],decls:55,vars:6,consts:[[1,"body","container-fluid"],[1,"filtros","row","mb-3","justify-content-end","no-print"],[1,"col-md-9","d-md-flex","justify-content-end","no-print"],[1,"mx-2","my-2","no-print"],["id","selectLlamado",1,"form-select",3,"change"],["disabled","","selected","","hidden",""],["value","PRIMERO"],["value","SEGUNDO"],["value","UNICO"],[1,"col-md-3","mx-2","my-2","no-print"],["id","selectCarrera",1,"form-select","auto",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2","mx-2","my-2","no-print"],["id","selectA\xF1o",1,"form-select","auto","m",3,"change"],[1,"no-print","mx-2","my-2"],["id","selectAsignatura",1,"form-select",3,"change"],[4,"ngIf"],[1,"table-responsive","mt-6"],["id","tablaAlumNotas",1,"table","table-hover","text-center","align-middle"],["colspan","5",1,"table-title","text-center"],[4,"ngFor","ngForOf"],["colspan","5",1,"text-end","no-print"],[1,"d-inline-flex"],[1,"btn","btn-primary","btn-sm","mx-5",3,"click"],[1,"fa-solid","fa-file-pdf","ml-2"],[3,"value"],["colspan","5",1,"text-center"]],template:function(l,a){l&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"select",4),g("change",function(f){return a.filtrarPorLlamado(f)}),t(5,"option",5),n(6,"Llamado"),i(),t(7,"option",6),n(8,"1\xB0 Llamado"),i(),t(9,"option",7),n(10,"2\xB0 Llamado"),i(),t(11,"option",8),n(12,"Llamado \xFAnico"),i()()(),t(13,"div",9)(14,"select",10),g("change",function(f){return a.filtrarPorCarrera(f)}),t(15,"option",5),n(16,"Carrera"),i(),u(17,j,2,2,"option",11),i()(),t(18,"div",12)(19,"select",13),g("change",function(f){return a.filtrarPorAnio(f)}),t(20,"option",5),n(21,"A\xF1o"),i(),u(22,B,2,2,"option",11),i()(),t(23,"div",14)(24,"select",15),g("change",function(f){return a.filtrarPorAsignatura(f)}),t(25,"option",5),n(26,"Asignatura"),i(),u(27,z,2,2,"option",11)(28,U,2,0,"option",16),i()()()(),t(29,"div",17)(30,"table",18)(31,"thead")(32,"tr")(33,"th",19),n(34," INSCRIPTOS A MESAS DE EXAMEN "),i()(),t(35,"tr")(36,"th"),n(37,"Nombre y Apellido"),i(),t(38,"th"),n(39,"DNI"),i(),t(40,"th"),n(41,"Carrera"),i(),t(42,"th"),n(43,"Materia"),i(),t(44,"th"),n(45,"Llamado"),i()()(),t(46,"tbody"),u(47,R,3,0,"tr",16)(48,$,12,5,"ng-container",20),t(49,"tr")(50,"td",21)(51,"div",22)(52,"button",23),g("click",function(){return a.enviarDatos()}),n(53,"Imprimir Acta "),v(54,"i",24),i()()()()()()()()),l&2&&(s(17),d("ngForOf",a.carreras),s(5),d("ngForOf",a.aniosDisponibles),s(5),d("ngForOf",a.materias),s(),d("ngIf",a.materias.length===0),s(19),d("ngIf",a.filteredInscripMesas.length===0),s(),d("ngForOf",a.filteredInscripMesas))},dependencies:[P,I,O,E,w,y,S],styles:["header[_ngcontent-%COMP%]{background-color:transparent;padding:15px}h2[_ngcontent-%COMP%]{font-weight:700;color:#4d44b5;font-size:25px}.table[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;overflow:hidden;padding-left:5px}th[_ngcontent-%COMP%]{background-color:#e7e7ff;color:#4d44b5;text-align:left;vertical-align:middle}td[_ngcontent-%COMP%], .ttlcarrera[_ngcontent-%COMP%], .infcarrera[_ngcontent-%COMP%]{vertical-align:middle;max-width:180px!important;text-align:left;min-width:50px;margin:8px}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.fotoPerfil[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin:8px}.fotoPerfil[_ngcontent-%COMP%]{height:50px;width:50px;margin-left:8px}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#4d44b5;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#4d44b5;border-color:#4d44b5}.iconUsuario[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:4px;width:auto;height:auto;display:flex;border-radius:10px;background-color:#ffffffab;justify-content:center;align-items:center}.iconMsj[_ngcontent-%COMP%], .iconNot[_ngcontent-%COMP%], .perfilUser[_ngcontent-%COMP%]{cursor:pointer;color:#555353;text-decoration:none}.perfilUser[_ngcontent-%COMP%]{padding:5px;align-items:center;margin-left:5px}.opcFiltro[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{border-radius:20px;overflow:hidden;text-overflow:ellipsis;background-color:transparent}.form-select[_ngcontent-%COMP%]{width:100%;font-size:14px;padding-right:30px;border-radius:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.form-select[_ngcontent-%COMP%], .option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:20px}.input-group[_ngcontent-%COMP%]{background-color:#fff}.copy-alert[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);z-index:1050;max-width:300px;padding:15px;border-radius:5px;box-shadow:0 2px 5px #0008;background-color:#bae08d;text-align:center}.table-title[_ngcontent-%COMP%]{padding:7px;text-align:left;font-size:17px;font-weight:400;color:#fff;background-color:#4d44b5}.checkbox[_ngcontent-%COMP%]{width:12px;height:12px;transform:scale(1.5)}.infcarrera[_ngcontent-%COMP%]{max-width:180px;text-overflow:ellipsis;overflow:hidden}.btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{padding:10px;border-radius:5px;width:100%}.btnAcepInsc[_ngcontent-%COMP%]{text-align:right}.btn-sm[_ngcontent-%COMP%]{padding:5px 10px;width:auto;min-width:80px}@media print{.no-print[_ngcontent-%COMP%]{display:none}}@media (max-width: 840px){header[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;align-items:flex-start}.iconUsuario[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:4px;width:auto;height:auto}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-top:60px;margin-left:10px}.iconMsj[_ngcontent-%COMP%], .iconNot[_ngcontent-%COMP%]{font-size:10px;margin:3px}.fotoPerfil[_ngcontent-%COMP%]{width:25px;height:25px;margin-left:5px}.perfilUser[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}.avatar[_ngcontent-%COMP%]{justify-content:center;width:35px;height:35px;border-radius:50%;margin:10px}}"]});let r=o;return r})();export{Z as InscriptosAprovadosComponent};
