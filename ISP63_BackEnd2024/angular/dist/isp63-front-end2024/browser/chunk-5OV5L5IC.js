import"./chunk-BYXBJQAS.js";import{a as q}from"./chunk-BTMWDEYC.js";import"./chunk-DUETNQZG.js";import"./chunk-LVYJPTP3.js";import{e as Q,f as H,h as A,x as R}from"./chunk-WZ63J2F5.js";import"./chunk-SJWRDQVH.js";import"./chunk-5AS2EY2S.js";import{c as N,k as O}from"./chunk-5KY6YBJG.js";import{l as F,m as B,o as D}from"./chunk-4DCJT2OD.js";import{Aa as d,Ba as T,M as L,Pa as u,R as V,Ra as h,W as f,Ya as r,Za as a,_a as c,bb as j,da as b,ea as v,eb as g,fa as w,fb as p,ga as C,ib as y,jb as _,k,kb as E,lb as S,mb as m,ob as I,v as M,vb as x}from"./chunk-X5N6KVFF.js";import"./chunk-EQDQRRRY.js";var Z=(()=>{let n=class n{constructor(e){this.http=e,this.jsonUrl="assets/data/chatbot.json",this.datos=[],this.getDatos(),this.datos.forEach(t=>console.log(t))}getDatos(){return this.http.get(this.jsonUrl).pipe(M(e=>(console.error("Error al cargar el archivo JSON",e),k(()=>new Error("No se pudo cargar el archivo JSON")))))}getBestMatchAnswer(e){let t=e.toLowerCase(),o=this.datos.filter(l=>l.question.toLowerCase().includes(t));return o.length>0?o[0].answer:"Lo siento, no tengo la respuesta a esa pregunta."}};n.\u0275fac=function(t){return new(t||n)(V(N))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var $=["txtInput"],J=["chatContainer"];function K(i,n){if(i&1&&(r(0,"div",16)(1,"span",17)(2,"div",18),w(),r(3,"svg",19),c(4,"path",20),a()()(),C(),r(5,"p",21)(6,"span",22),m(7,"Vos "),a(),m(8),a()()),i&2){let s=p().$implicit;d(8),I(" ",s.message,"")}}function P(i,n){if(i&1&&(r(0,"div",16)(1,"span",17)(2,"div",18),w(),r(3,"svg",23),c(4,"path",24),a()()(),C(),r(5,"p",21)(6,"span",22),m(7,"IES 63 "),a(),m(8),a()()),i&2){let s=p().$implicit;d(8),I(" ",s.message,"")}}function W(i,n){if(i&1&&(r(0,"main"),u(1,K,9,1,"div",15)(2,P,9,1,"div",15),a()),i&2){let s=n.$implicit;d(),h("ngIf",s.type==="USER"),d(),h("ngIf",s.type==="IA")}}function X(i,n){if(i&1){let s=j();r(0,"div",5)(1,"div",6)(2,"h2",7),m(3,"Chatbot"),a(),r(4,"p",8),m(5,"IES63"),a()(),r(6,"div",9,0),u(8,W,3,2,"main",10),a(),r(9,"div",11)(10,"form",12)(11,"input",13,1),g("keydown.enter",function(){b(s);let t=S(12),o=p();return v(o.sendMessage(t.value))}),a(),r(13,"button",14),g("click",function(){b(s);let t=S(12),o=p();return v(o.sendMessage(t.value))}),m(14," >"),a()()()()}if(i&2){let s=p();d(8),h("ngForOf",s.chats)}}var z=(()=>{let n=class n{constructor(e){this._chatbotService=e,this.chats=[],this.datos=[],this.answer="",this.chatVisible=!1}ngOnInit(){this.cargarDatos()}cargarDatos(){this._chatbotService.getDatos().subscribe({next:e=>{this.datos=e},error:e=>{console.error("Error al cargar la info",e)}})}getBestMatchAnswer(e){let t=e.toLowerCase(),o=this.datos.filter(l=>l.question.toLowerCase().includes(t));return o.length>0?o[0].answer:"Lo siento, no tengo la respuesta a esa pregunta."}toggleChat(){this.chatVisible=!this.chatVisible}setChat(e,t){console.log("en sendmessage:"+t+e),this.chats.push({type:e,message:t})}sendMessage(e){if(e.length>3){this.setChat("USER",e);let t=e;this.answer=this.getBestMatchAnswer(e),this.setChat("IA",this.answer);let o=document.getElementById("txtInput");o?o.value="":console.warn('El campo de texto con id "txtInput" no se encontr\xF3.')}}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){this.chatContainer&&this.chatContainer.nativeElement&&(this.chatContainer.nativeElement.scrollTop=this.chatContainer.nativeElement.scrollHeight)}};n.\u0275fac=function(t){return new(t||n)(T(Z))},n.\u0275cmp=f({type:n,selectors:[["app-chatbot"]],viewQuery:function(t,o){if(t&1&&(y($,7),y(J,5)),t&2){let l;_(l=E())&&(o.txtInput=l.first),_(l=E())&&(o.chatContainer=l.first)}},standalone:!0,features:[x],decls:3,vars:1,consts:[["chatContainer",""],["txtInput",""],["type","button","aria-haspopup","dialog","aria-expanded","false","data-state","closed",1,"fixed","bottom-4","right-4","inline-flex","items-center","justify-center","text-sm","font-medium","disabled:pointer-events-none","disabled:opacity-50","border","rounded-full","w-16","h-16","bg-black","hover:bg-gray-700","m-0","cursor-pointer","border-gray-200","bg-none","p-0","normal-case","leading-5","hover:text-gray-900","transition-transform","duration-300","hover:scale-110",3,"click"],["src","../../../../assets/img/bot.gif","alt","Bot Icon",1,"rounded-full","w-16","h-16","bg-white","border","border-gray-200"],["style","box-shadow: 0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgb(0 0 0 / 0.05);","class",`fixed bottom-[calc(4rem+1.5rem)] right-0 mr-4 bg-white p-6 rounded-lg border border-[#e5e7eb]
  w-[440px] h-[434px] flex flex-col`,4,"ngIf"],[1,"fixed","bottom-[calc(4rem+1.5rem)]","right-0","mr-4","bg-white","p-6","rounded-lg","border","border-[#e5e7eb]","w-[440px]","h-[434px]","flex","flex-col",2,"box-shadow","0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgb(0 0 0 / 0.05)"],[1,"flex","flex-col","space-y-1.5","pb-6"],[1,"font-semibold","text-lg","tracking-tight"],[1,"text-sm","text-[#6b7280]","leading-3"],[1,"flex-grow","pr-4","flex","flex-col","overflow-y-auto","h-full"],[4,"ngFor","ngForOf"],[1,"pt-4"],[1,"flex","items-center","justify-center","w-full","space-x-2"],["id","txtInput","type","text","placeholder","Ingrese su mensaje...",1,"flex","h-10","w-full","rounded-md","border","border-[#e5e7eb]","px-3","py-2","text-sm","placeholder-[#6b7280]","focus:outline-none","focus:ring-2","focus:ring-[#9ca3af]","text-[#030712]","focus-visible:ring-offset-2",3,"keydown.enter"],[1,"inline-flex","items-center","justify-center","rounded-md","text-sm","font-medium","text-[#f9fafb]","disabled:pointer-events-none","disabled:opacity-50","bg-orange-500","hover:bg-[#111827E6]","h-10","px-4","py-2",3,"click"],["class","flex gap-3 my-1 text-gray-600 text-sm flex-1",4,"ngIf"],[1,"flex","gap-3","my-1","text-gray-600","text-sm","flex-1"],[1,"relative","flex","shrink-0","overflow-hidden","rounded-full","w-8","h-8"],[1,"rounded-full","bg-gray-100","border","p-1"],["stroke","none","fill","black","stroke-width","0","viewBox","0 0 16 16","height","20","width","20","xmlns","http://www.w3.org/2000/svg"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"],[1,"leading-relaxed"],[1,"block","font-bold","text-gray-700"],["stroke","none","fill","black","stroke-width","1.5","viewBox","0 0 24 24","aria-hidden","true","height","20","width","20","xmlns","http://www.w3.org/2000/svg"],["stroke-linecap","round","stroke-linejoin","round","d","M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456z"]],template:function(t,o){t&1&&(r(0,"button",2),g("click",function(){return o.toggleChat()}),c(1,"img",3),a(),u(2,X,15,1,"div",4)),t&2&&(d(2),h("ngIf",o.chatVisible))},dependencies:[D,F,B,R,A,Q,H]});let i=n;return i})();var he=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f({type:n,selectors:[["app-home-layout"]],standalone:!0,features:[x],decls:7,vars:0,consts:[[1,"min-h-screen","bg-gray-50/50"],[1,"text-blue-gray-600"],[1,"fixed","bottom-4","right-4","z-50"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div"),c(2,"app-home-header"),r(3,"div"),c(4,"router-outlet"),a(),c(5,"div",1),a()(),c(6,"app-chatbot",2))},dependencies:[O,q,z]});let i=n;return i})();export{he as HomeLayoutComponent};
