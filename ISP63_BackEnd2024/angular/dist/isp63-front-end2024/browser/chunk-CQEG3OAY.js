import{a as U}from"./chunk-LULZSSGU.js";import{a as W}from"./chunk-NYOVT7YK.js";import{a as z}from"./chunk-3XUV45YM.js";import"./chunk-CB6FNCUI.js";import{d as k,g as V,m as N,n as B,o as j,x as D}from"./chunk-WZ63J2F5.js";import"./chunk-SJWRDQVH.js";import"./chunk-5AS2EY2S.js";import"./chunk-5KY6YBJG.js";import{l as A,m as I,o as L}from"./chunk-4DCJT2OD.js";import{$a as y,Aa as s,Ba as C,Pa as g,Ra as c,Ua as E,W as w,Ya as e,Za as t,_a as b,ab as S,bb as F,da as x,ea as _,eb as p,fb as u,mb as l,nb as h,ob as M,rb as v,sb as P,tb as O,vb as T}from"./chunk-X5N6KVFF.js";import"./chunk-EQDQRRRY.js";function H(r,d){if(r&1&&(e(0,"option",26),l(1),t()),r&2){let i=d.$implicit;c("value",i.id),s(),M(" ",i.carrera," ")}}function R(r,d){if(r&1&&(e(0,"option",26),l(1),t()),r&2){let i=d.$implicit;c("value",i.value),s(),h(i.label)}}function q(r,d){r&1&&(e(0,"option",33),l(1,"Llamado"),t()),r&2&&c("ngValue",null)}function G(r,d){r&1&&(e(0,"option",33),l(1,"Carrera"),t()),r&2&&c("ngValue",null)}function X(r,d){if(r&1&&(e(0,"option",26),l(1),t()),r&2){let i=d.$implicit;c("value",i.id),s(),M(" ",i.carrera," ")}}function J(r,d){r&1&&(e(0,"option",33),l(1,"A\xF1o"),t()),r&2&&c("ngValue",null)}function K(r,d){if(r&1&&(e(0,"option",26),l(1),t()),r&2){let i=d.$implicit;c("value",i.value),s(),h(i.label)}}function Q(r,d){if(r&1){let i=F();e(0,"div",20)(1,"div",27)(2,"select",28),O("ngModelChange",function(n){x(i);let o=u();return P(o.selectedLlamado,n)||(o.selectedLlamado=n),_(n)}),p("change",function(n){x(i);let o=u();return _(o.filtrarPorLlamado(n))}),g(3,q,2,1,"option",29),e(4,"option",14),l(5,"1\xB0 Llamado"),t(),e(6,"option",15),l(7,"2\xB0 Llamado"),t(),e(8,"option",16),l(9,"Llamado \xFAnico"),t()()(),e(10,"div",30)(11,"select",31),O("ngModelChange",function(n){x(i);let o=u();return P(o.selectedCarrera,n)||(o.selectedCarrera=n),_(n)}),p("change",function(n){x(i);let o=u();return _(o.filtrarPorCarrera(n))}),g(12,G,2,1,"option",29)(13,X,2,2,"option",18),t()(),e(14,"div",30)(15,"select",32),O("ngModelChange",function(n){x(i);let o=u();return P(o.selectedAnio,n)||(o.selectedAnio=n),_(n)}),p("change",function(n){x(i);let o=u();return _(o.filtrarPorAnio(n))}),g(16,J,2,1,"option",29)(17,K,2,2,"option",18),t()()()}if(r&2){let i=u();s(2),v("ngModel",i.selectedLlamado),s(),c("ngIf",!i.selectedLlamado),s(8),v("ngModel",i.selectedCarrera),s(),c("ngIf",!i.selectedCarrera),s(),c("ngForOf",i.carreras),s(2),v("ngModel",i.selectedAnio),s(),c("ngIf",!i.selectedAnio),s(),c("ngForOf",i.aniosDisponibles)}}function Y(r,d){r&1&&(e(0,"tr")(1,"td",34)(2,"p"),l(3,"No hay mesas disponibles"),t()()())}function Z(r,d){if(r&1&&(y(0),e(1,"tr")(2,"td"),l(3),t(),e(4,"td"),l(5),t(),e(6,"td"),l(7),t(),e(8,"td"),l(9),t(),e(10,"td"),l(11),t(),e(12,"td"),l(13),t()(),S()),r&2){let i=d.$implicit;s(3),h(i.llamado),s(2),h(i.fechayHora),s(2),M("",i.anio,"\xB0 A\xF1o"),s(2),h(i.asignatura),s(2),h(i.carrera),s(2),h(i.tribunal)}}var le=(()=>{let d=class d{constructor(a,n,o){this.infoMateriasService=a,this.infoCarrerasService=n,this.infoLlamadosService=o,this.materias=[],this.selectedLlamado=null,this.selectedCarrera=null,this.selectedAnio=null,this.selectedMateria=null,this.aniosDisponibles=[{value:1,label:"1\xB0 a\xF1o"},{value:2,label:"2\xB0 a\xF1o"},{value:3,label:"3\xB0 a\xF1o"},{value:4,label:"4\xB0 a\xF1o"}],this.asignaturasFiltradas=[],this.carrerasFiltradas=[],this.showFilters=!1}ngOnInit(){this.infoLlamadosService.ObtenerDatosMesasProf().subscribe(a=>{this.mesas=a,this.mesasFiltradas=a}),this.infoCarrerasService.ObtenerDatos().subscribe(a=>{this.carreras=a})}getCardClass(a){switch(a){case 1:return"highlight-informatica";case 2:return"highlight-primaria";case 3:return"highlight-lengua";case 4:return"highlight-mantInd";case 5:return"highlight-biolog";default:return"highlight-default"}}buscarMesa(a){let n=a.target.value.toLowerCase(),o=this.mesas?.filter(m=>this.removeAccents(m.asignatura.toLowerCase()).includes(n)||this.removeAccents(m.carrera.toLowerCase()).includes(n)||this.removeAccents(m.fechayHora.toLowerCase()).includes(n)||m.fechayHora.toString().includes(n)||this.removeAccents(m.tribunal.toLowerCase()).includes(n)||this.removeAccents(m.llamado.toLowerCase()).includes(n))??[];this.mesasFiltradas=o}removeAccents(a){return a.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}obtenerMaterias(){this.selectedCarrera!==null&&this.selectedAnio!==null&&this.selectedAnio!==0&&this.infoMateriasService.obtenerAsigAnioCarrera(this.selectedCarrera,this.selectedAnio).subscribe(a=>{this.materias=a.map(n=>({id:n.id,nombre:n.nombre}))})}filtrarPorLlamado(a){this.selectedLlamado=a.target.value,this.selectedCarrera,this.selectedCarrera=null,this.selectedAnio=null;let n=document.getElementById("selectCarrera");n.selectedIndex=0;let o=document.getElementById("selectA\xF1o");o.selectedIndex=0,this.aplicarFiltros()}filtrarPorAnio(a){this.selectedAnio=Number(a.target.value),this.aplicarFiltros()}filtrarPorCarrera(a){this.selectedCarrera=Number(a.target.value),this.selectedAnio=null;let n=document.getElementById("selectA\xF1o");n.selectedIndex=0;let o=this.carreras?.find(m=>m.id===this.selectedCarrera);switch(this.carreraXid=o?o.carrera:"",this.selectedCarrera){case 1:this.aniosDisponibles=[{value:1,label:"1\xB0 a\xF1o"},{value:2,label:"2\xB0 a\xF1o"},{value:3,label:"3\xB0 a\xF1o"}];break;default:this.aniosDisponibles=[{value:1,label:"1\xB0 a\xF1o"},{value:2,label:"2\xB0 a\xF1o"},{value:3,label:"3\xB0 a\xF1o"},{value:4,label:"4\xB0 a\xF1o"}];break}this.aplicarFiltros()}aplicarFiltros(){this.mesasFiltradas=[...this.mesas],this.selectedLlamado&&(this.mesasFiltradas=this.mesasFiltradas.filter(a=>a.llamado===this.selectedLlamado)),this.selectedCarrera&&(this.mesasFiltradas=this.mesasFiltradas.filter(a=>a.idCarrera===this.selectedCarrera)),this.selectedAnio&&(this.mesasFiltradas=this.mesasFiltradas.filter(a=>a.anio===this.selectedAnio))}toggleFilters(){this.showFilters=!this.showFilters}};d.\u0275fac=function(n){return new(n||d)(C(U),C(z),C(W))},d.\u0275cmp=w({type:d,selectors:[["app-mesas-examen-tribunal"]],standalone:!0,features:[T],decls:55,vars:5,consts:[[1,"body","container-fluid"],[1,"filtros","row","mb-3","justify-content-end","no-print"],[1,"col-md-3","col-10"],[1,"input-group"],["type","text","placeholder","Buscar",1,"form-control",3,"input"],["routerLink","",1,"input-group-text"],[1,"fas","fa-search"],[1,"col-2","d-flex","d-md-none","justify-content-end","no-print"],[1,"btn","btnfiltros",3,"click"],[1,"fa-solid","fa-sliders",2,"color","#000000"],[1,"d-none","col-md-9","d-md-flex","justify-content-end","no-print"],[1,"col-md-2","mx-2"],["id","selectLlamado",1,"form-select",3,"change"],["disabled","","selected","","hidden",""],["value","PRIMERO"],["value","SEGUNDO"],["value","UNICO"],["id","selectCarrera",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["id","selectA\xF1o",1,"form-select",3,"change"],[1,"filters-mobile","d-md-none","no-print"],[1,"table-responsive"],["id","tablaAlumInsc",1,"table","table-hover","text-center","align-middle"],["colspan","8",1,"table-title","text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"no-print"],["id","selectLlamado",1,"form-select",3,"ngModelChange","change","ngModel"],["disabled","","hidden","",3,"ngValue",4,"ngIf"],[1,"my-2","no-print"],["id","selectCarrera",1,"form-select",3,"ngModelChange","change","ngModel"],["id","selectA\xF1o",1,"form-select",3,"ngModelChange","change","ngModel"],["disabled","","hidden","",3,"ngValue"],["colspan","8",1,"text-center"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),p("input",function(f){return o.buscarMesa(f)}),t(),e(5,"a",5),b(6,"i",6),t()()(),e(7,"div",7)(8,"button",8),p("click",function(){return o.toggleFilters()}),b(9,"i",9),t()(),e(10,"div",10)(11,"div",11)(12,"select",12),p("change",function(f){return o.filtrarPorLlamado(f)}),e(13,"option",13),l(14,"Llamado"),t(),e(15,"option",14),l(16,"1\xB0 Llamado"),t(),e(17,"option",15),l(18,"2\xB0 Llamado"),t(),e(19,"option",16),l(20,"Llamado \xFAnico"),t()()(),e(21,"div",11)(22,"select",17),p("change",function(f){return o.filtrarPorCarrera(f)}),e(23,"option",13),l(24,"Carrera"),t(),g(25,H,2,2,"option",18),t()(),e(26,"div",11)(27,"select",19),p("change",function(f){return o.filtrarPorAnio(f)}),e(28,"option",13),l(29,"A\xF1o"),t(),g(30,R,2,2,"option",18),t()()()(),g(31,Q,18,8,"div",20),b(32,"br"),t(),e(33,"div",21)(34,"table",22)(35,"thead")(36,"tr")(37,"th",23),l(38,"Mis mesas de examen"),t()(),e(39,"tr")(40,"th"),l(41,"Llamado"),t(),e(42,"th"),l(43,"Fecha y Hora"),t(),e(44,"th"),l(45,"A\xF1o"),t(),e(46,"th"),l(47,"Asignatura"),t(),e(48,"th"),l(49,"Carrera"),t(),e(50,"th"),l(51,"Tribunal"),t()()(),e(52,"tbody"),g(53,Y,4,0,"tr",24)(54,Z,14,6,"ng-container",25),t()()()),n&2&&(s(25),c("ngForOf",o.carreras),s(5),c("ngForOf",o.aniosDisponibles),s(),E(o.showFilters?31:-1),s(22),c("ngIf",o.mesasFiltradas.length===0),s(),c("ngForOf",o.mesasFiltradas))},dependencies:[L,A,I,D,B,j,N,k,V],styles:['header[_ngcontent-%COMP%]{background-color:transparent;padding:15px}h2[_ngcontent-%COMP%]{font-weight:700;color:#4d44b5;font-size:25px}.table[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;overflow:hidden;padding-left:5px}th[_ngcontent-%COMP%]{background-color:#e7e7ff;color:#4d44b5;text-align:left}td[_ngcontent-%COMP%], .ttlcarrera[_ngcontent-%COMP%], .infcarrera[_ngcontent-%COMP%]{vertical-align:middle;max-width:180px!important;text-align:left;min-width:50px;margin:8px}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.fotoPerfil[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin:8px}.fotoPerfil[_ngcontent-%COMP%]{height:50px;width:50px;margin-left:8px}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#4d44b5;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#4d44b5;border-color:#4d44b5}.iconUsuario[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:4px;width:auto;height:auto;display:flex;border-radius:10px;background-color:#ffffffab;justify-content:center;align-items:center}.iconMsj[_ngcontent-%COMP%], .iconNot[_ngcontent-%COMP%], .perfilUser[_ngcontent-%COMP%]{cursor:pointer;color:#555353;text-decoration:none}.perfilUser[_ngcontent-%COMP%]{padding:5px;align-items:center;margin-left:5px}.opcFiltro[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{border-radius:20px;overflow:hidden;text-overflow:ellipsis;background-color:transparent}.form-select[_ngcontent-%COMP%]{width:100%;font-size:14px;padding-right:30px;border-radius:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.form-select[_ngcontent-%COMP%], .option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:20px}.input-group[_ngcontent-%COMP%]{background-color:#fff}.copy-alert[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);z-index:1050;max-width:300px;padding:15px;border-radius:5px;box-shadow:0 2px 5px #0008;background-color:#bae08d;text-align:center}.table-title[_ngcontent-%COMP%]{padding:7px;text-align:left;font-size:17px;font-weight:400;color:#fff;background-color:#4d44b5}.checkbox[_ngcontent-%COMP%]{width:12px;height:12px;transform:scale(1.5)}.infcarrera[_ngcontent-%COMP%]{max-width:180px;text-overflow:ellipsis;overflow:hidden}.btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{padding:10px;border-radius:5px;width:100%}.btnAcepInsc[_ngcontent-%COMP%]{text-align:right}.btn-sm[_ngcontent-%COMP%]{padding:5px 10px;width:auto;min-width:80px}@media print{.no-print[_ngcontent-%COMP%]{display:none}}@media (max-width: 840px){header[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;align-items:flex-start}.iconUsuario[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:4px;width:auto;height:auto}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-top:60px;margin-left:10px}.iconMsj[_ngcontent-%COMP%], .iconNot[_ngcontent-%COMP%]{font-size:10px;margin:3px}.fotoPerfil[_ngcontent-%COMP%]{width:25px;height:25px;margin-left:5px}.perfilUser[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}.avatar[_ngcontent-%COMP%]{justify-content:center;width:35px;height:35px;border-radius:50%;margin:10px}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 10px #0000001a;width:auto;max-width:80%;text-align:start}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:25px;margin-bottom:10px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2714";color:green;font-size:18px;position:absolute;left:0;top:0;line-height:1.5}']});let r=d;return r})();export{le as MesasExamenTribunalComponent};
