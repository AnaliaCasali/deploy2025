import"./chunk-DYQZHTLM.js";import"./chunk-TGIVGOJA.js";import{a as C}from"./chunk-3XUV45YM.js";import"./chunk-TDIESEQK.js";import{a as S}from"./chunk-OQIJA6UF.js";import"./chunk-CB6FNCUI.js";import{b as A,d as T,e as W,f as N,g as B,h as j,i as U,m as D,n as q,o as P,r as z,x as G}from"./chunk-WZ63J2F5.js";import{a as K}from"./chunk-SJWRDQVH.js";import"./chunk-5AS2EY2S.js";import{j as O,l as R}from"./chunk-5KY6YBJG.js";import{l as L,o as V}from"./chunk-4DCJT2OD.js";import{Aa as l,Ba as h,Pa as _,Ra as w,W as M,Ya as t,Za as i,bb as k,da as s,ea as d,eb as y,lb as E,mb as n,nb as F,rb as g,sb as p,tb as f,vb as I}from"./chunk-X5N6KVFF.js";import{e as H}from"./chunk-EQDQRRRY.js";var v=H(K());function Q(b,m){if(b&1&&(t(0,"option",20),n(1),i()),b&2){let x=m.$implicit;w("value",x),l(),F(x)}}var me=(()=>{let m=class m{constructor(o,c,r,a){this.carreraService=o,this.imagenService=c,this.route=r,this.router=a,this.sedes=["LAS_TOSCAS","AVELLANEDA","FLORENCIA"],this.carrera={carrera:"",plan:"",duracion:0,campoOcupacional:"",sede:"",id:0,logo:{id:0,url:"string",alt:"string",nombre:"string",descripcion:""},link:""}}ngOnInit(){let o=this.route.snapshot.paramMap.get("id");o&&this.carreraService.getCarrera(+o).subscribe(c=>{this.carrera=c})}onFileSelected(o){this.selectedFile=o.target.files[0]}saveCarrera(){this.selectedFile?this.imagenService.uploadImagen(this.selectedFile,"Logo "+this.carrera?.carrera).subscribe(o=>{this.carrera&&(this.carrera.logo=o,console.log("La imagen se guard\xF3"),this.carreraService.createCarrera(this.carrera).subscribe(()=>{v.default.fire({icon:"success",title:"\xC9xito",text:"La carrera se guard\xF3 correctamente.",confirmButtonText:"OK"}),this.router.navigate(["/home"])}))},o=>{v.default.fire({icon:"error",title:"Error",text:"Hubo un problema al subir la imagen. Int\xE9ntalo nuevamente.",confirmButtonText:"OK"}),console.error("Error al subir imagen",o)}):this.carrera&&this.carreraService.createCarrera(this.carrera).subscribe(()=>{v.default.fire({icon:"success",title:"\xC9xito",text:"La carrera se guard\xF3 correctamente.",confirmButtonText:"OK"}),this.router.navigate(["/home"])})}};m.\u0275fac=function(c){return new(c||m)(h(C),h(S),h(O),h(R))},m.\u0275cmp=M({type:m,selectors:[["app-carrera-registro"]],standalone:!0,features:[I],decls:35,vars:8,consts:[["carreraForm","ngForm"],[1,"text-2xl","font-bold","mb-6"],[1,"bg-white","shadow-md","rounded-lg","p-6",3,"ngSubmit"],[1,"mb-4"],["for","carrera",1,"block","text-sm","font-medium","text-gray-700"],["required","","type","text","name","carrera",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2",3,"ngModelChange","ngModel"],["for","plan",1,"block","text-sm","font-medium","text-gray-700"],["required","","type","text","name","plan",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2",3,"ngModelChange","ngModel"],["for","duracion",1,"block","text-sm","font-medium","text-gray-700"],["required","","type","number","name","duracion",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2",3,"ngModelChange","ngModel"],["for","campoOcupacional",1,"block","text-sm","font-medium","text-gray-700"],["required","","type","text","name","campoOcupacional",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2",3,"ngModelChange","ngModel"],["for","link",1,"block","text-sm","font-medium","text-gray-700"],["required","","type","text","name","link",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2",3,"ngModelChange","ngModel"],["for","sede",1,"block","text-sm","font-medium","text-gray-700"],["required","","name","sede",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","logoFile",1,"block","text-sm","font-medium","text-gray-700"],["type","file","required","","name","logoFile",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","focus:ring","focus:ring-blue-500","focus:border-blue-500","p-2",3,"change"],["type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded",3,"disabled"],[3,"value"]],template:function(c,r){if(c&1){let a=k();t(0,"h2",1),n(1,"CREAR CARRERA"),i(),t(2,"form",2,0),y("ngSubmit",function(){return s(a),d(r.saveCarrera())}),t(4,"div",3)(5,"label",4),n(6,"Carrera"),i(),t(7,"input",5),f("ngModelChange",function(e){return s(a),p(r.carrera.carrera,e)||(r.carrera.carrera=e),d(e)}),i()(),t(8,"div",3)(9,"label",6),n(10,"Plan"),i(),t(11,"input",7),f("ngModelChange",function(e){return s(a),p(r.carrera.plan,e)||(r.carrera.plan=e),d(e)}),i()(),t(12,"div",3)(13,"label",8),n(14,"Duraci\xF3n"),i(),t(15,"input",9),f("ngModelChange",function(e){return s(a),p(r.carrera.duracion,e)||(r.carrera.duracion=e),d(e)}),i()(),t(16,"div",3)(17,"label",10),n(18,"Campo Ocupacional"),i(),t(19,"input",11),f("ngModelChange",function(e){return s(a),p(r.carrera.campoOcupacional,e)||(r.carrera.campoOcupacional=e),d(e)}),i()(),t(20,"div",3)(21,"label",12),n(22,"Link"),i(),t(23,"input",13),f("ngModelChange",function(e){return s(a),p(r.carrera.link,e)||(r.carrera.link=e),d(e)}),i()(),t(24,"div",3)(25,"label",14),n(26,"Sede"),i(),t(27,"select",15),f("ngModelChange",function(e){return s(a),p(r.carrera.sede,e)||(r.carrera.sede=e),d(e)}),_(28,Q,2,2,"option",16),i()(),t(29,"div",3)(30,"label",17),n(31,"Logo (Imagen)"),i(),t(32,"input",18),y("change",function(e){return s(a),d(r.onFileSelected(e))}),i()(),t(33,"button",19),n(34," Guardar "),i()()}if(c&2){let a=E(3);l(7),g("ngModel",r.carrera.carrera),l(4),g("ngModel",r.carrera.plan),l(4),g("ngModel",r.carrera.duracion),l(4),g("ngModel",r.carrera.campoOcupacional),l(4),g("ngModel",r.carrera.link),l(4),g("ngModel",r.carrera.sede),l(),w("ngForOf",r.sedes),l(5),w("disabled",!a.valid)}},dependencies:[G,j,q,P,A,U,D,T,W,z,B,N,V,L]});let b=m;return b})();export{me as CarreraRegistroComponent};
