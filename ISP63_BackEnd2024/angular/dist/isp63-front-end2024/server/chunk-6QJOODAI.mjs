import './polyfills.server.mjs';
import{a as C}from"./chunk-L74Q72SY.mjs";import{a as F}from"./chunk-Y2X2L44K.mjs";import{a as U}from"./chunk-3OAVVQER.mjs";import{x as L}from"./chunk-6UOH6BPV.mjs";import{a as y}from"./chunk-H2FZU6DH.mjs";import{r as E}from"./chunk-IRK2UOVA.mjs";import{n as S,q as k}from"./chunk-RL6AEQ4N.mjs";import{$a as i,Ca as a,Da as g,Ra as x,Ta as u,W as f,_a as r,ab as d,fa as p,ga as h,gb as b,ob as s,qb as m,xb as w,ya as v}from"./chunk-KLZ53CP7.mjs";function I(c,o){if(c&1&&(r(0,"div",10)(1,"div",11)(2,"h5",12),s(3),i(),r(4,"div",13)(5,"p",14),s(6),i()(),r(7,"div",15),p(),r(8,"svg",16),d(9,"path",17),i(),h(),r(10,"span",18),s(11),i()(),r(12,"div",15),p(),r(13,"svg",16),d(14,"path",19)(15,"path",20),i(),h(),r(16,"span",18),s(17),i()(),r(18,"div",15)(19,"span",18)(20,"button",21),s(21," M\xE1s info >"),i()()()(),r(22,"button",22),d(23,"img",23),i()()),c&2){let l=o.$implicit;a(3),m(" ",l.carrera,""),a(3),m(" Plan: ",l.plan," "),a(5),m(" Duraci\xF3n: ",l.duracion," a\xF1os"),a(6),m(" Sede: ",l.sede,""),a(3),u("routerLink","/"+l.link),a(3),u("src",l.logo.url,v)("alt",l.logo.alt)}}var G=(()=>{let o=class o{constructor(e,t,n){this.carreraService=e,this.imagenService=t,this.aPdfService=n,this.imageUrls=[],this.authUrl=y.apiUrl+"auth/imagenes"}ngOnInit(){this.carreraService.getCarreras().subscribe(e=>{this.carreras=e,this.convertToUrls()})}aPdf(e,t){this.aPdfService.GenerarPdf(e,t)}loadFile(e){this.imagenService.getImagenFileAuth(e).subscribe(t=>{let n=URL.createObjectURL(t);this.fileUrl=n})}convertToUrls(){this.carreras.forEach(e=>{let t=e.logo.id;e.logo.url=`${this.authUrl}/archivo/${t}`})}convertBlobsToUrls(){this.carreras.forEach(e=>{let t=e.logo.id;this.imagenService.getImagenFileAuth(t).subscribe({next:n=>{e.logo.url=URL.createObjectURL(n)},error:n=>{console.warn(" imagen ERROR:"+e.logo.url+" error: "+n),console.error("Error al cargar la imagen"+e.id+e.logo.url+" error: "+n)}})})}deleteCarrera(e){this.carreraService.deleteCarrera(e).subscribe(()=>{this.carreras=this.carreras.filter(t=>t.id!==e)})}ngOnDestroy(){this.carreras.forEach(e=>{e?.logo?.url&&URL.revokeObjectURL(e.logo.url)})}};o.\u0275fac=function(t){return new(t||o)(g(C),g(U),g(F))},o.\u0275cmp=f({type:o,selectors:[["app-carrera-listado"]],standalone:!0,features:[w],decls:11,vars:1,consts:[["id","contenedor",1,"mt-0"],[1,"news-section","py-12","bg-gray-100"],[1,"text-3xl","text-center","font-bold","text-blue-900","uppercase","tracking-wide","relative","mb-10"],[1,"block","bg-orange-500","h-1","w-20","mx-auto","mt-2"],[1,"block","bg-blue-900","h-1","w-10","mx-auto","mt-2"],[1,"container","mx-auto","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-6"],["class","relative  bg-white news-grid shadow-lg rounded-lg p-1 flex flex-col items-center justify-center",4,"ngFor","ngForOf"],["id","canvasElement",2,"display","none"],[3,"click"],[1,"relative","bg-white","news-grid","shadow-lg","rounded-lg","p-1","flex","flex-col","items-center","justify-center"],[1,"news-card","flex","flex-col","bg-white","p-6","rounded-lg","shadow-lg","text-center","w-full"],[1,"mb-2","text-lg","font-bold","tracking-tight","text-gray-900"],[1,"overflow-hidden"],["id","texto",1,"text-sm","line-clamp:","2","mb-3","font-light","text-gray-700","dark:text-gray-400",2,"font-size","14px","line-height","1.5"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","w-6","h-6","-mt-4","text-orange-500"],["strokeLinecap","round","strokeLinejoin","round","d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"],[1,"ml-2","mb-3","font-light","text-gray-700","dark:text-gray-400","align-middle"],["stroke-linecap","round","stroke-linejoin","round","d","M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"],[1,"mt-2","bg-orange-500","text-white","py-2","px-4","rounded-full","hover:bg-orange-600",3,"routerLink"],[1,"absolute","bottom-10","right-5","mb-2","mr-2","w-20","h-20","rounded-full","bg-white","shadow"],[1,"w-full","h-full","rounded-full",3,"src","alt"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"section",1)(2,"h2",2),s(3," Nuestras Carreras "),d(4,"span",3)(5,"span",4),i(),r(6,"div",5)(7,"div",6),x(8,I,24,7,"div",7),i()()(),d(9,"canvas",8),r(10,"button",9),b("click",function(){return n.aPdf("canvasElement","contenedor")}),i()()),t&2&&(a(8),u("ngForOf",n.carreras))},dependencies:[L,E,k,S]});let c=o;return c})();export{G as a};
