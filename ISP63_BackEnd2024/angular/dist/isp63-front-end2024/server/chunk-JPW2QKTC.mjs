import './polyfills.server.mjs';
import{a as I}from"./chunk-ESC3YH5X.mjs";import{a as N}from"./chunk-J5UG77ZP.mjs";import{b as S}from"./chunk-H2FZU6DH.mjs";import{o as w,q as y}from"./chunk-RL6AEQ4N.mjs";import{$a as i,Ca as r,Da as m,Ra as f,Ta as x,W as u,_a as t,ab as d,fa as p,ga as h,hb as b,ob as l,pb as c,qb as v,xb as g}from"./chunk-KLZ53CP7.mjs";function L(o,n){if(o&1&&(t(0,"div",18)(1,"span",19),l(2),i()()),o&2){let C=b();r(2),c(C.notificacionesNoLeidas)}}var A=(()=>{let n=class n{constructor(e,s,a){this.notificacionService=e,this.auth=s,this.userService=a,this.rol="",this.dni="",this.userImageUrl="",this.nombre="",this.panelName="",this.letra="",this.user=null,this.errorMessage="",this.notificacionesNoLeidas=0}ngOnInit(){this.auth.isAuthenticated()&&(this.rol=String(localStorage.getItem("rol")),this.dni=String(localStorage.getItem("dni")),this.buscarUser(),this.buscarCantidadNoficicacionesNoLeidas(),this.panelName="Panel de "+this.rol.toLocaleLowerCase())}buscarCantidadNoficicacionesNoLeidas(){this.notificacionService.contarNotificacionesNoLeidas(this.dni).subscribe({next:e=>{this.notificacionesNoLeidas=e},error:e=>{this.notificacionesNoLeidas=0}})}buscarUser(){this.dni?this.userService.getUserByDni(this.dni).subscribe(e=>{this.user=e,this.nombre=e.nombre+" "+e.apellido,this.nombre&&this.nombre.length>0&&(this.letra=this.nombre.charAt(0).toUpperCase()),this.errorMessage=""},e=>{this.errorMessage="Usuario no encontrado",this.user=null}):this.errorMessage="Debe ingresar un DNI v\xE1lido"}};n.\u0275fac=function(s){return new(s||n)(m(N),m(S),m(I))},n.\u0275cmp=u({type:n,selectors:[["app-header"]],standalone:!0,features:[g],decls:24,vars:5,consts:[[1,"bg-white"],[1,"block","w-full","max-w-full","bg-transparent","text-white","shadow-none","rounded-xl","transition-all","px-0","py-0"],[1,"flex","flex-col-reverse","justify-between","gap-6","md:flex-row","md:items-center"],[1,"pr-15","w-auto"],["value","  "],[1,"capitalize"],[1,"block","antialiased","tracking-normal","font-sans","text-2xl","font-bold","leading-relaxed","text-blue-800"],[1,"flex","items-center"],[1,"mr-auto","md:mr-8"],["aria-expanded","false","aria-haspopup","menu","id",":r2:","type","button",1,"relative","middle","none","font-sans","font-medium","text-center","uppercase","transition-all","disabled:opacity-50","disabled:shadow-none","disabled:pointer-events-none","w-10","max-w-[40px]","h-10","max-h-[40px]","rounded-lg","text-xs","text-blue-900","hover:bg-blue-gray-500/10","active:bg-blue-gray-500/30","mt-4"],[1,"absolute","top-1/4","left-1/2","transform","-translate-y-1/2","-translate-x-1/2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","aria-hidden","true",1,"h-10","w-6","text-blue-900","mt-0"],["fill-rule","evenodd","d","M5.25 9a6.75 6.75 0 0113.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 01-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 11-7.48 0 24.585 24.585 0 01-4.831-1.244.75.75 0 01-.298-1.205A8.217 8.217 0 005.25 9.75V9zm4.502 8.9a2.25 2.25 0 104.496 0 25.057 25.057 0 01-4.496 0z","clip-rule","evenodd","stroke","currentColor","stroke-width","1.5"],["class",`bg-red-500 text-white rounded-full absolute -top-3 right-0 w-5 h-5
              flex items-center justify-center text-xs font-bold`,4,"ngIf"],[1,"cursor-pointer","duration-300","hover:text-blue-500","middle","none","font-sans","font-bold","center","uppercase","transition-all","disabled:opacity-50","disabled:shadow-none","disabled:pointer-events-none","text-xs","py-3","rounded-lg","text-blue-900","hover:bg-blue-gray-500/10","active:bg-blue-gray-500/30","hidden","items-start","gap-1","px-4","xl:flex","flex-col"],[1,"text-left"],["type","button",1,"relative","middle","none","font-sans","font-medium","text-center","uppercase","transition-all","disabled:opacity-50","disabled:shadow-none","disabled:pointer-events-none","w-10","max-w-[40px]","h-10","max-h-[40px]","rounded-lg","text-xs","text-gray-500","hover:bg-blue-gray-500/10","active:bg-blue-gray-500/30"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center","bg-blue-500","text-white","text-2xl"],[1,"bg-red-500","text-white","rounded-full","absolute","-top-3","right-0","w-5","h-5","flex","items-center","justify-center","text-xs","font-bold"],["id","notificaciones",1,"text-white"]],template:function(s,a){s&1&&(t(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3),d(4,"h6",4),i(),t(5,"div",5)(6,"h1",6),l(7),i()(),t(8,"div",7),d(9,"div",8),t(10,"button",9)(11,"span",10),p(),t(12,"svg",11),d(13,"path",12),i()(),f(14,L,3,1,"div",13),i(),h(),t(15,"button",14)(16,"span",15),l(17),i(),t(18,"span",15),l(19),i()(),t(20,"button",16)(21,"span",17),l(22),i()()()()(),d(23,"div"),i()),s&2&&(r(7),c(a.panelName),r(7),x("ngIf",a.notificacionesNoLeidas>0),r(3),c(a.nombre),r(2),c(a.rol),r(3),v(" ",a.letra," "))},dependencies:[y,w]});let o=n;return o})();export{A as a};
