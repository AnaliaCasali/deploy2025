import './polyfills.server.mjs';
import{a as o,b as u}from"./chunk-TSFAZMOB.mjs";import{a as l,c as g}from"./chunk-IRK2UOVA.mjs";import{M as p,R as a,k as n,v as r}from"./chunk-KLZ53CP7.mjs";var E=(()=>{let i=class i{constructor(t,e){this.http=t,this.authService=e,this.apiUrl=o.apiUrl+"api/imagenes",this.authUrl=o.apiUrl+"auth/imagenes"}getHeaders(){let t=new l;if(this.authService.isAuthenticated()){let e=localStorage.getItem("authToken");t=t.set("Authorization",`Bearer ${e}`)}return t}getAllImagenes(){let t=this.getHeaders();return this.http.get(this.apiUrl,{headers:t}).pipe(r(this.handleError))}getAllImagenesAuth(){return this.http.get(this.authUrl).pipe(r(this.handleError))}getImagenById(t){let e=this.getHeaders();return this.http.get(`${this.apiUrl}/${t}`,{headers:e}).pipe(r(this.handleError))}getImagenByIdAuth(t){return this.http.get(`${this.authUrl}/${t}`).pipe(r(this.handleError))}getImage(t){let e=this.getHeaders();return this.http.get(`${this.apiUrl}/images/${t}`,{headers:e,responseType:"blob"})}getImageAuth(t){return this.http.get(`${this.authUrl}/images/${t}`,{responseType:"blob"})}uploadImagen(t,e){let h=new FormData;h.append("file",t),h.append("alt",e);let m=this.getHeaders();return this.http.post(`${this.apiUrl}/upload/${e}`,h,{headers:m}).pipe(r(this.handleError))}getImagenFile(t){let e=this.getHeaders();return this.http.get(`${this.apiUrl}/archivo/${t}`,{headers:e,responseType:"blob"}).pipe(r(this.handleError))}getImagenFileAuth(t){return this.http.get(`${this.authUrl}/archivo/${t}`,{responseType:"blob"}).pipe(r(this.handleError))}getImagen(t){let e=this.getHeaders();return this.http.get(`${this.apiUrl}/archivoResource/${t}`,{headers:e,responseType:"blob"})}getImagenAuth(t){return this.http.get(`${this.authUrl}/archivoResource/${t}`,{responseType:"blob"})}handleError(t){return n(t.message||"Server Error")}};i.\u0275fac=function(e){return new(e||i)(a(g),a(u))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let s=i;return s})();export{E as a};
