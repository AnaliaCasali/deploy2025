import './polyfills.server.mjs';
import{a as o}from"./chunk-VZSOSELC.mjs";import{a as d,b as f}from"./chunk-H2FZU6DH.mjs";import{a as h,c as p}from"./chunk-IRK2UOVA.mjs";import{I as s,M as c,R as u,k as n,v as i}from"./chunk-KLZ53CP7.mjs";var T=(()=>{let a=class a{constructor(e,t){this.http=e,this.authService=t,this.url=d.apiUrl+"api/mesas-examen"}getHeaders(){let e=new h;if(this.authService.isAuthenticated()){let t=localStorage.getItem("authToken");e=e.set("Authorization",`Bearer ${t}`)}return e}findByTurno(e){let t=this.getHeaders();return this.http.get(`${this.url}/turno/${e}`,{headers:t}).pipe(i(this.handleError))}saveMesaExamen(e){let t=this.getHeaders();return this.http.post(this.url,e,{headers:t}).pipe(s(r=>{o.fire({icon:"success",title:"Genial!",text:"La Mesa de Examen se registro exitosamente.",confirmButtonText:"OK"})}),i(r=>(o.fire({icon:"error",title:"Error",text:"Hubo un problema al guardar la Mesa de Examen. Int\xE9ntalo nuevamente.",confirmButtonText:"OK"}),console.error("Error al subir la Mesa de Examen",r),n(r))))}actualizarMesaExamen(e,t){let r=this.getHeaders();return this.http.put(`${this.url}/${e}`,t,{headers:r}).pipe(s(m=>{o.fire({icon:"success",title:"Genial!",text:"La Mesa de Examen se actualizo exitosamente.",confirmButtonText:"OK"})}),i(m=>(o.fire({icon:"error",title:"Error",text:"Hubo un problema al actualizar la Mesa de Examen. Int\xE9ntalo nuevamente.",confirmButtonText:"OK"}),console.error("Error al actualizar la mesa de examen:",m),n(m))))}deleteMesaExamen(e){let t=this.getHeaders();return this.http.delete(`${this.url}/${e}`,{headers:t}).pipe(s(r=>{o.fire({icon:"success",title:"Genial!",text:"La Mesa de Examen se elimino exitosamente.",confirmButtonText:"OK"})}),i(r=>(o.fire({icon:"error",title:"Error",text:"Hubo un problema al eliminar la Mesa de Examen. Int\xE9ntalo nuevamente.",confirmButtonText:"OK"}),console.error("Error al eliminar la mesa de examen:",r),n(r))))}handleError(e){return console.error("A ocurrido un error",e),n(e.message||"Server Error")}};a.\u0275fac=function(t){return new(t||a)(u(p),u(f))},a.\u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();export{T as a};
