import './polyfills.server.mjs';
import{b as D,d as K,e as H,f as Z,g as z,h as G,i as J,m as Q,n as X,o as Y,p as $,q as ee,r as te,t as ie,u as oe,v as ne,w as re,x as le}from"./chunk-6UOH6BPV.mjs";import{a as W}from"./chunk-VZSOSELC.mjs";import{a as A,b as q}from"./chunk-H2FZU6DH.mjs";import{c as P,n as O,q as j}from"./chunk-IRK2UOVA.mjs";import{n as L,q as B}from"./chunk-RL6AEQ4N.mjs";import{$a as n,Ca as s,Da as _,M as T,R as I,Ra as x,Ta as h,W as b,Wa as M,_a as i,ab as V,da as c,db as E,ea as p,gb as w,hb as m,j as C,ob as d,pb as F,qb as k,tb as g,ub as u,v as U,vb as f,xb as y}from"./chunk-KLZ53CP7.mjs";var N=function(r){return r.F="Femenino",r.M="Masculino",r.NB="No Binario",r.NE="No Especificado",r}(N||{});var R=function(r){return r.Soltero="Soltero",r.Casado="Casado",r}(R||{});var de=(()=>{let a=class a{constructor(l){this.http=l,this.apiUrl=A.apiUrl+"auth/localidades"}findAll(){return this.http.get(this.apiUrl).pipe(U(l=>C([])))}};a.\u0275fac=function(e){return new(e||a)(I(P))},a.\u0275prov=T({token:a,factory:a.\u0275fac,providedIn:"root"});let r=a;return r})();function ge(r,a){if(r&1&&(i(0,"option",24),d(1),n()),r&2){let t=a.$implicit;h("ngValue",t.id),s(),k(" ",t.localidad," ")}}function ue(r,a){if(r&1){let t=E();i(0,"h2",2),d(1,"Registro de Usuario"),n(),i(2,"form",3,0),w("ngSubmit",function(){c(t);let e=m();return p(e.register())}),i(4,"div",4)(5,"div",5)(6,"label",6),d(7,"Nombre:"),n(),i(8,"input",7),f("ngModelChange",function(e){c(t);let o=m();return u(o.nombre,e)||(o.nombre=e),p(e)}),n()(),i(9,"div",5)(10,"label",8),d(11,"Apellido:"),n(),i(12,"input",9),f("ngModelChange",function(e){c(t);let o=m();return u(o.apellido,e)||(o.apellido=e),p(e)}),n()(),i(13,"div",10)(14,"div",11)(15,"label",12),d(16,"DNI:"),n(),i(17,"input",13),f("ngModelChange",function(e){c(t);let o=m();return u(o.dni,e)||(o.dni=e),p(e)}),n()(),i(18,"div",11)(19,"label",14),d(20,"Password:"),n(),i(21,"input",15),f("ngModelChange",function(e){c(t);let o=m();return u(o.password,e)||(o.password=e),p(e)}),n()()(),i(22,"div",5)(23,"label",16),d(24,"Domicilio:"),n(),i(25,"input",17),f("ngModelChange",function(e){c(t);let o=m();return u(o.domicilio,e)||(o.domicilio=e),p(e)}),n()(),i(26,"div",5)(27,"label",18),d(28,"Seleccione una Localidad:"),n(),i(29,"select",19),f("ngModelChange",function(e){c(t);let o=m();return u(o.idlocalidad,e)||(o.idlocalidad=e),p(e)}),x(30,ge,2,2,"option",20),n()(),i(31,"button",21),w("click",function(){c(t);let e=m();return p(e.showNextForm())}),d(32,"Siguiente"),n(),i(33,"p",22),d(34,"\xBFTienes una cuenta? "),i(35,"a",23),d(36,"Login"),n()()()()}if(r&2){let t=m();s(8),g("ngModel",t.nombre),s(4),g("ngModel",t.apellido),s(5),g("ngModel",t.dni),s(4),g("ngModel",t.password),s(4),g("ngModel",t.domicilio),s(4),g("ngModel",t.idlocalidad),s(),h("ngForOf",t.localidades)}}function fe(r,a){if(r&1&&(i(0,"option",39),d(1),n()),r&2){let t=a.$implicit;h("value",t.key),s(),F(t.value)}}function he(r,a){if(r&1&&(i(0,"option",39),d(1),n()),r&2){let t=a.$implicit;h("value",t.key),s(),F(t.value)}}function _e(r,a){if(r&1){let t=E();i(0,"h2",2),d(1,"Registro de Usuario"),n(),i(2,"form",3,0),w("ngSubmit",function(){c(t);let e=m();return p(e.register())}),i(4,"div",4)(5,"div",25)(6,"i",26),w("click",function(){c(t);let e=m();return p(e.showPreviousForm())}),n()(),i(7,"div",5)(8,"label",27),d(9,"Tel\xE9fono:"),n(),i(10,"input",28),f("ngModelChange",function(e){c(t);let o=m();return u(o.telefono,e)||(o.telefono=e),p(e)}),n()(),i(11,"div",5)(12,"label",29),d(13,"Email:"),n(),i(14,"input",30),f("ngModelChange",function(e){c(t);let o=m();return u(o.email,e)||(o.email=e),p(e)}),n()(),i(15,"div",5)(16,"label",31),d(17,"Fecha de Nacimiento:"),n(),i(18,"input",32),f("ngModelChange",function(e){c(t);let o=m();return u(o.fechaNacimiento,e)||(o.fechaNacimiento=e),p(e)}),n()(),i(19,"div",5)(20,"label",33),d(21,"G\xE9nero:"),n(),i(22,"select",34),f("ngModelChange",function(e){c(t);let o=m();return u(o.genero,e)||(o.genero=e),p(e)}),x(23,fe,2,2,"option",35),n()(),i(24,"div",5)(25,"label",36),d(26,"Estado Civil:"),n(),i(27,"select",37),f("ngModelChange",function(e){c(t);let o=m();return u(o.estadoCivil,e)||(o.estadoCivil=e),p(e)}),x(28,he,2,2,"option",35),n()()(),i(29,"button",38),d(30," Registrar "),n(),i(31,"p",22),d(32,"\xBFTienes una cuenta? "),i(33,"a",23),d(34,"Login"),n()()()}if(r&2){let t=m();s(10),g("ngModel",t.telefono),s(4),g("ngModel",t.email),s(4),g("ngModel",t.fechaNacimiento),s(4),g("ngModel",t.genero),s(),h("ngForOf",t.generos),s(4),g("ngModel",t.estadoCivil),s(),h("ngForOf",t.listaEstadoCivil)}}var se=(()=>{let a=class a{constructor(l,e,o,me,ce){this.authService=l,this.localidadesService=e,this.route=o,this.router=me,this.fb=ce,this.generos=Object.entries(N).map(([S,v])=>({key:S,value:v})),this.listaEstadoCivil=Object.entries(R).map(([S,v])=>({key:S,value:v})),this.localidades=[],this.rol="USER",this.dni="",this.apellido="",this.nombre="",this.password="",this.genero="",this.domicilio="",this.idlocalidad=-1,this.telefono="",this.email="",this.fechaNacimiento="",this.estadoCivil="",this.currentStep=1,this.isFormVisible=!1}ngOnInit(){this.cargarLocalidades()}register(){let l={dni:this.dni,apellido:this.apellido,nombre:this.nombre,password:this.password,genero:this.genero,domicilio:this.domicilio,idLocalidad:this.idlocalidad,telefono:this.telefono,email:this.email,fechaNacimiento:this.fechaNacimiento,estadoCivil:this.estadoCivil};console.log("USUARIO"+l),this.authService.register(l).subscribe({next:e=>{W.fire({icon:"success",title:"\xC9xito",text:"Se registro con \xE9xito.Tu usuario es: IES63"+l.dni,confirmButtonText:"OK"}),this.router.navigate(["/home"])},error:e=>{W.fire({icon:"error",title:"Error",text:"No pudimos registrar sus datos. Int\xE9ntalo nuevamente.",confirmButtonText:"OK"}),console.error("Error en Registro",e)}})}showNextForm(){this.isFormVisible=!0}showPreviousForm(){this.isFormVisible=!1}cargarLocalidades(){this.localidadesService.findAll().subscribe({next:l=>{this.localidades=l},error:l=>(console.warn("Error al cargar localidades",l),C([]))})}nextStep(){this.currentStep<3&&this.currentStep++}prevStep(){this.currentStep>1&&this.currentStep--}};a.\u0275fac=function(e){return new(e||a)(_(q),_(de),_(O),_(j),_(re))},a.\u0275cmp=b({type:a,selectors:[["app-user-registro"]],standalone:!0,features:[y],decls:3,vars:2,consts:[["userForm","ngForm"],[1,"max-w-md","mx-auto","mt-10","p-6","bg-white","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","mb-6","text-center"],[3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-1","gap-4"],[1,"mb-1"],["for","nombre",1,"block","text-gray-700"],["name","nombre","id","nombre","type","text","placeholder","Ingresa tu nombre","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["for","apellido",1,"block","text-gray-700"],["name","apellido","id","apellido","type","text","placeholder","Ingresa tu apellido","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"flex","space-x-4","mb-1"],[1,"w-1/2"],["for","dni",1,"block","text-gray-700"],["name","dni","id","dni","type","number","min","7000000","max","99999999","placeholder","Ingresa tu DNI",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["for","password",1,"block","text-gray-700"],["name","password","id","password","type","password","minlength","8","pattern","^(?=.*[A-Z])(?=.*[0-9]).{8,}$","placeholder","Ingresa tu password","required","true",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["for","domicilio",1,"block","text-gray-700"],["name","domicilio","id","domicilio","type","text","placeholder","Ingresa tu domicilio",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["for","localidades",1,"block","text-gray-700"],["required","","id","localidades","name","idlocalidad",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button",1,"bg-orange-500","text-white","py-2","px-4","rounded-full","hover:bg-orange-700","transition","duration-200",3,"click"],[1,"signup-link"],["routerLink","/login"],[3,"ngValue"],[1,"text-black","py-0","px-4","rounded-full","hover:text-orange-600","transition","duration-200"],["title","Volver",1,"fa-solid","fa-arrow-left",3,"click"],["for","telefono",1,"block","text-gray-700"],["name","telefono","id","telefono","type","tel","pattern","^[0-9]{10}$","maxlength","10","placeholder","Ingresa tu tel\xE9fono",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["for","email",1,"block","text-gray-700"],["name","email","id","email","type","email","placeholder","Ingresa tu email",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["for","fechaNacimiento",1,"block","text-gray-700"],["name","fechaNacimiento","id","fechaNacimiento","type","date",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["for","genero",1,"block","text-gray-700"],["required","","id","genero","name","genero","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","estadoCivil",1,"block","text-gray-700"],["required","","id","estadoCivil","name","estadoCivil","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-orange-500","text-white","py-2","px-4","rounded","hover:bg-orange-700","transition","duration-200"],[3,"value"]],template:function(e,o){e&1&&(i(0,"div",1),x(1,ue,37,7)(2,_e,35,7),n()),e&2&&(s(),M(o.isFormVisible?-1:1),s(),M(o.isFormVisible?2:-1))},dependencies:[B,L,le,G,X,Y,D,J,Q,K,H,te,ie,oe,ne,ee,$,z,Z]});let r=a;return r})();var Le=(()=>{let a=class a{constructor(){this.isFormVisible=!1}showNextForm(){this.isFormVisible=!0}showPreviousForm(){this.isFormVisible=!1}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=b({type:a,selectors:[["app-sing-up"]],standalone:!0,features:[y],decls:6,vars:0,consts:[[1,"flex","h-screen","overflow-hidden","bg-white"],[1,"hidden","md:flex","md:w-1/2"],["src","assets/imagenes/7de62d17fdb021bae96c708fc93a08a22.jpeg","alt","Login Image",1,"w-full","h-full","object-cover"],[1,"flex","items-center","justify-center","w-full","md:w-1/2","bg-white"],[1,"max-w-md","w-full","px-6","pt-36"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1),V(2,"img",2),n(),i(3,"div",3)(4,"div",4),V(5,"app-user-registro"),n()()())},dependencies:[se]});let r=a;return r})();export{Le as a};
