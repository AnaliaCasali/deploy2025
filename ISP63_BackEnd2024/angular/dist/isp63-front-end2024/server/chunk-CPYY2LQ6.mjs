import './polyfills.server.mjs';
import{a as F}from"./chunk-VPCEHEXH.mjs";import"./chunk-J5UG77ZP.mjs";import{a as E,b as v,d as w,e as T,f as I,g as P,h as W,m as D,n as k,o as H,r as N,s as O,x as q}from"./chunk-6UOH6BPV.mjs";import{a as p}from"./chunk-VZSOSELC.mjs";import"./chunk-H2FZU6DH.mjs";import{n as C,q as S,t as _}from"./chunk-IRK2UOVA.mjs";import{q as y}from"./chunk-RL6AEQ4N.mjs";import{$a as n,Ca as d,Da as g,W as b,_a as t,gb as h,ob as i,qb as x,tb as l,ub as s,vb as u,xb as M}from"./chunk-KLZ53CP7.mjs";import"./chunk-5XUXGTUW.mjs";var J=(()=>{let m=class m{constructor(r,a,o){this.turnosService=r,this.route=a,this.router=o,this.turno={id:0,turno:"",periodoInscripcionDesde:"",periodoInscripcionHasta:"",periodoExamenDesde:"",periodoExamenHasta:"",vigente:!1},this.isEditMode=!1,this.ultimoId=0}ngOnInit(){let r=this.route.snapshot.params.id;r&&(this.isEditMode=!0,this.loadTurno(r))}loadTurno(r){this.turnosService.findById(r).subscribe({next:a=>this.turno=a,error:a=>console.error("Error al cargar el turno:",a)})}onSubmit(){this.isEditMode?this.updateTurno():(this.saveTurno(),console.log("Formulario enviado:",this.turno))}saveTurno(){this.turnosService.saveTurno(this.turno).subscribe(r=>{console.log("Turno guardado:",r),p.fire("\xC9xito","Turno creado correctamente","success")},r=>{console.error("Error al guardar el turno:",r),p.fire("Error","No se pudo crear el turno","error")})}updateTurno(){this.turnosService.editarTurno(this.turno.id,this.turno).subscribe({next:r=>{console.log("Turno actualizado:",r),p.fire("\xC9xito","Turno actualizado correctamente","success"),this.router.navigate(["/listaturnos"])},error:r=>{console.error("Error al actualizar el turno:",r),p.fire("Error","No se pudo actualizar el turno","error")}})}};m.\u0275fac=function(a){return new(a||m)(g(F),g(C),g(S))},m.\u0275cmp=b({type:m,selectors:[["app-mesas"]],standalone:!0,features:[M],decls:41,vars:7,consts:[[1,"flex","justify-center","items-center","min-h-screen"],[1,"bg-white","p-6","rounded-lg","shadow-md","w-full",3,"ngSubmit"],[1,"text-2xl","font-semibold","mb-4","text-gray-800"],[1,"mb-4"],["for","turno",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","turno","name","turno","required","",1,"form-control","w-full","p-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value","","disabled","","selected","","hidden","",1,"placeholder-gray-400"],["value","febr-mar"],["value","jul-agos"],["value","nov-dic"],[1,"grid","grid-cols-2","gap-4","mb-4"],["for","periodo-inscripcion-desde",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","periodo-inscripcion-desde","type","date","name","periodoInscripcionDesde","required","",1,"form-control","w-full","p-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","periodo-inscripcion-hasta",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","periodo-inscripcion-hasta","type","date","name","periodoInscripcionHasta","required","",1,"form-control","w-full","p-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","periodo-examen-desde",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","periodo-examen-desde","type","date","name","periodoExamenDesde","required","",1,"form-control","w-full","p-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","periodo-examen-hasta",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","periodo-examen-hasta","type","date","name","periodoExamenHasta","required","",1,"form-control","w-full","p-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","vigente","type","checkbox","required","",1,"form-checkbox","h-4","w-4","text-blue-600",3,"ngModelChange","ngModel"],[1,"flex","justify-content-end"],["type","submit",1,"bg-blue-500","text-white","py-3","px-20","rounded-md","hover:bg-blue-600"]],template:function(a,o){a&1&&(t(0,"main",0)(1,"form",1),h("ngSubmit",function(){return o.onSubmit()}),t(2,"h2",2),i(3,"Registrar turno"),n(),t(4,"div",3)(5,"label",4),i(6,"Turno:"),n(),t(7,"select",5),u("ngModelChange",function(e){return s(o.turno.turno,e)||(o.turno.turno=e),e}),t(8,"option",6),i(9,"Selecciona un turno"),n(),t(10,"option",7),i(11,"Febr-Mar"),n(),t(12,"option",8),i(13,"Jul-Agos"),n(),t(14,"option",9),i(15,"Nov-Dic"),n()()(),t(16,"div",10)(17,"div")(18,"label",11),i(19,"Periodo Inscripci\xF3n Desde:"),n(),t(20,"input",12),u("ngModelChange",function(e){return s(o.turno.periodoInscripcionDesde,e)||(o.turno.periodoInscripcionDesde=e),e}),n()(),t(21,"div")(22,"label",13),i(23,"Periodo Inscripci\xF3n Hasta:"),n(),t(24,"input",14),u("ngModelChange",function(e){return s(o.turno.periodoInscripcionHasta,e)||(o.turno.periodoInscripcionHasta=e),e}),n()()(),t(25,"div",10)(26,"div")(27,"label",15),i(28,"Periodo Examen Desde:"),n(),t(29,"input",16),u("ngModelChange",function(e){return s(o.turno.periodoExamenDesde,e)||(o.turno.periodoExamenDesde=e),e}),n()(),t(30,"div")(31,"label",17),i(32,"Periodo Examen Hasta:"),n(),t(33,"input",18),u("ngModelChange",function(e){return s(o.turno.periodoExamenHasta,e)||(o.turno.periodoExamenHasta=e),e}),n()()(),t(34,"div",3)(35,"label",19),i(36,"Vigente:"),n(),t(37,"input",20),u("ngModelChange",function(e){return s(o.turno.vigente,e)||(o.turno.vigente=e),e}),n()(),t(38,"div",21)(39,"button",22),i(40),n()()()()),a&2&&(d(7),l("ngModel",o.turno.turno),d(13),l("ngModel",o.turno.periodoInscripcionDesde),d(4),l("ngModel",o.turno.periodoInscripcionHasta),d(5),l("ngModel",o.turno.periodoExamenDesde),d(4),l("ngModel",o.turno.periodoExamenHasta),d(4),l("ngModel",o.turno.vigente),d(3),x(" ",o.isEditMode?"Actualizar":"Crear"," "))},dependencies:[_,q,W,k,H,v,E,D,w,T,N,O,P,I,y],styles:["main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{height:50px;color:#fff;text-align:center;margin-bottom:20px;font-size:30px;background-color:#4d44b5;border-radius:20px 20px 0 0}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:8px;width:90%}.form-row[_ngcontent-%COMP%]{display:flex;gap:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;flex:1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px;display:block;font-size:1.5em}.form-control[_ngcontent-%COMP%]{padding:10px;border-radius:4px;border:1px solid #ced4da}"]});let f=m;return f})();export{J as MesasComponent};
